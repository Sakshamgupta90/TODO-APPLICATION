{"ast":null,"code":"import { of } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./todo.service\";\nimport * as i2 from \"./progress-bar/progress-bar.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./todo-item/todo-item.component\";\n\nfunction AppComponent_app_todo_item_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-todo-item\", 7);\n  }\n\n  if (rf & 2) {\n    const todo_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"item\", todo_r2);\n  }\n}\n\nexport class AppComponent {\n  constructor(todoService) {\n    this.tasks = [];\n    this.todos$ = todoService.getAll();\n    this.todos$.subscribe(data => this.tasks = data);\n  }\n\n  searchTodo(searchText) {\n    // const inputEl = document.getElementById(\"search\")!\n    // let searchText = fromEvent(inputEl, 'keydown').pipe( \n    //   map((e => e.target!.value) \n    // );\n    console.log(searchText);\n\n    if (!searchText) {\n      this.todos$ = of(this.tasks);\n      return;\n    } else {\n      let matched = this.tasks.filter(todo => todo.task.includes(searchText));\n      console.log(matched);\n      this.todos$ = of(matched); // (this.todos$ as any) = this.todos$.subscribe(data => {\n      //   data.filter(todo => todo.task.search(new RegExp(searchText, 'i')))\n      // });\n      // return;\n    }\n  } //Implement loading\n\n\n  ngAfterViewInit() {\n    //   const inputSearch = document.getElementById('search') as HTMLInputElement;\n    //   const filteredTasks = fromEvent(inputSearch, 'input').pipe(\n    //   map(e => (e.target as HTMLInputElement).value),\n    //   filter(text => text.length > 2),\n    //   debounceTime(1),\n    //   distinctUntilChanged(),\n    //   switchMap(searchTerm => {\n    //     return this.tasks.filter(todo => todo.task.includes(searchTerm));\n    //   })\n    // );\n    //   filteredTasks.subscribe((data) => {\n    //     console.log(\"running\");\n    //     (this.todos$ as any) = data\n    //   });\n    let element = document.getElementById('progress-bar'); // console.log(element)\n\n    if (element != undefined) {\n      setTimeout(() => {\n        element.id = 'progress-bar-hidden';\n      }, 2000);\n    }\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.TodoService));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 11,\n  vars: 3,\n  consts: [[1, \"title\"], [1, \"list\"], [\"for\", \"search\"], [\"id\", \"search\", \"type\", \"text\", 3, \"keyup\"], [\"box\", \"\"], [\"id\", \"progress-bar\"], [3, \"item\", 4, \"ngFor\", \"ngForOf\"], [3, \"item\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r3 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h1\");\n      i0.ɵɵtext(2, \" A list of TODOs \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"label\", 2);\n      i0.ɵɵtext(5, \"Search...\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 3, 4);\n      i0.ɵɵlistener(\"keyup\", function AppComponent_Template_input_keyup_6_listener() {\n        i0.ɵɵrestoreView(_r3);\n\n        const _r0 = i0.ɵɵreference(7);\n\n        return ctx.searchTodo(_r0.value);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"app-progress-bar\", 5);\n      i0.ɵɵtemplate(9, AppComponent_app_todo_item_9_Template, 1, 1, \"app-todo-item\", 6);\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 1, ctx.todos$));\n    }\n  },\n  directives: [i2.ProgressBarComponent, i3.NgForOf, i4.TodoItemComponent],\n  pipes: [i3.AsyncPipe],\n  styles: [\".title[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.list[_ngcontent-%COMP%] {\\n  width: 1000px;\\n  margin: auto;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 12px 20px;\\n  margin: 8px 0 0;\\n  box-sizing: border-box;\\n}\\n\\n#progress-bar-hidden[_ngcontent-%COMP%] {\\n  visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtBQUNGIiwiZmlsZSI6ImFwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50aXRsZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmxpc3Qge1xuICB3aWR0aDogMTAwMHB4O1xuICBtYXJnaW46IGF1dG87XG59XG5cbmlucHV0W3R5cGU9dGV4dF0ge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTJweCAyMHB4O1xuICBtYXJnaW46IDhweCAwIDA7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbiNwcm9ncmVzcy1iYXItaGlkZGVue1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG59Il19 */\"]\n});","map":{"version":3,"sources":["/Users/sakshamgupta/Desktop/todo-list/todo-list-frontend/src/app/app.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component } from '@angular/core';\nimport {Todo, TodoService} from \"./todo.service\";\nimport {asapScheduler, asyncScheduler, from, fromEvent, Observable, of, scheduled} from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, filter, map, switchMap } from \"rxjs/operators\";\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <div class=\"title\">\n      <h1>\n        A list of TODOs\n      </h1>\n    </div>\n    <div class=\"list\">\n      <label for=\"search\">Search...</label>\n      <input id=\"search\" type=\"text\" #box (keyup)=\"searchTodo(box.value)\"/>\n      <app-progress-bar id=\"progress-bar\"></app-progress-bar>\n      <app-todo-item *ngFor=\"let todo of todos$ | async\" [item]=\"todo\"></app-todo-item>\n    </div>\n  `,\n  styleUrls: ['app.component.scss']\n})\n\n\nexport class AppComponent {\n\n  readonly todos$: Observable<Todo[]>;\n  tasks: Todo[] = [];\n\n  constructor(todoService: TodoService) {\n    this.todos$ = todoService.getAll();\n    this.todos$.subscribe(data => this.tasks = data)\n  }\n\n  searchTodo(searchText: string) {\n    // const inputEl = document.getElementById(\"search\")!\n    // let searchText = fromEvent(inputEl, 'keydown').pipe( \n    //   map((e => e.target!.value) \n    // );\n    console.log(searchText)\n    if (!searchText) {\n      (this.todos$ as any) = of(this.tasks)\n      return;\n    }\n    else {\n      let matched: any = this.tasks.filter(todo => todo.task.includes(searchText));\n      console.log(matched);\n      (this.todos$ as any) = of(matched);\n      // (this.todos$ as any) = this.todos$.subscribe(data => {\n      //   data.filter(todo => todo.task.search(new RegExp(searchText, 'i')))\n      // });\n      // return;\n    }\n  }\n\n\n  //Implement loading\n\n  ngAfterViewInit() {\n  //   const inputSearch = document.getElementById('search') as HTMLInputElement;\n  //   const filteredTasks = fromEvent(inputSearch, 'input').pipe(\n  //   map(e => (e.target as HTMLInputElement).value),\n  //   filter(text => text.length > 2),\n  //   debounceTime(1),\n  //   distinctUntilChanged(),\n  //   switchMap(searchTerm => {\n  //     return this.tasks.filter(todo => todo.task.includes(searchTerm));\n  //   })\n  // );\n  //   filteredTasks.subscribe((data) => {\n  //     console.log(\"running\");\n  //     (this.todos$ as any) = data\n  //   });\n\n    let element = document.getElementById('progress-bar')\n    // console.log(element)\n    if(element != undefined){\n      setTimeout(() => {\n        element!.id = 'progress-bar-hidden'\n      }, 2_000)   \n    }\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}